(function(){"use strict";var t={6266:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Background"),e("audio",{staticClass:"music",attrs:{src:n(9342),loop:"",controls:"",controlslist:"nomute noplaybackrate nodownload",type:"audio/ogg",autoplay:""}}),t.$route.meta.isNavShow?e("NavBar",{staticClass:"nav"}):t._e(),e("keep-alive",[e("router-view",{key:t.$route.path,staticClass:"main"})],1)],1)},s=[],a=n(6952),o=n(627),r={name:"App",components:{NavBar:a["default"],Background:o["default"]},created(){this.getIllnessList()},methods:{async getIllnessList(){await this.$store.dispatch("getIllnessList"),await this.$store.dispatch("getCategoryDetail")}}},c=r,l=n(1001),u=(0,l.Z)(c,i,s,!1,null,null,null),d=u.exports},627:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var i=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",[e("canvas")])}],a={data(){return{audCtx:null,source:null,analyser:null,bufferLength:null,dataArray:null,music:null,canvas:null,isInit:!1}},computed:{ctx(){return this.canvas.getContext("2d")}},methods:{draw(){requestAnimationFrame(this.draw),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const t=this.analyser.frequencyBinCount/2.5,e=new Uint8Array(t),n=this.canvas.width/t*2.5;let i,s=0;this.analyser.getByteFrequencyData(e);for(let a=0;a<t;a++)i=e[a],this.ctx.fillStyle="#C7B0F7",this.ctx.fillRect(s+this.canvas.width/2,this.canvas.height-i,n,i),this.ctx.fillRect(this.canvas.width/2-s,this.canvas.height-i,n,i),s+=n+1}},mounted(){this.music=document.querySelector(".music"),this.music.muted=!1,this.canvas=document.querySelector("canvas"),this.music.addEventListener("play",(()=>{this.isInit||(this.audCtx=new AudioContext,this.source=this.audCtx.createMediaElementSource(this.music),this.analyser=this.audCtx.createAnalyser(),this.source.connect(this.analyser),this.analyser.connect(this.audCtx.destination),this.analyser.fftSize=2048,this.isInit=!0,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),this.draw()}))}},o=a,r=n(1001),c=(0,r.Z)(o,i,s,!1,null,"260193b2",null),l=c.exports},7097:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-item"},[e("div",{staticClass:"card-item-mask",on:{click:function(e){return t.$emit("mask")}}}),e("div",{staticClass:"card-item-content"},[e("h3",{staticClass:"card-item-content-title"},[t._v(t._s(t.item.title))]),e("div",{staticClass:"card-item-content-content"},t._l(t.item.content,(function(n,i){return e("div",{key:i,staticClass:"card-item-content-content-item"},[t._v(" "+t._s(n)+" ")])})),0)])])},s=[],a={props:{item:{type:Object,default:()=>({title:"标题",content:["内容1","内容2","内容3"]})}}},o=a,r=n(1001),c=(0,r.Z)(o,i,s,!1,null,"4cd46b96",null),l=c.exports},6952:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-bar"},[e("div",{staticClass:"nav-bar-left"},[e("div",{staticClass:"nav-bar-left-logo"},[e("router-link",{staticClass:"nav-bar-left-title-home",attrs:{to:"/"}},[e("img",{attrs:{src:n(6949),alt:"logo"}})])],1),e("div",{staticClass:"nav-bar-left-music"},[e("img",{class:t.isMusicActive?"music-run":"music-pause",attrs:{src:n(4419),alt:"music"},on:{click:t.handleMusic}})])]),e("div",{ref:"nav",staticClass:"nav-bar-right"},t._l(t.NavRoutes,(function(n,i){return e("div",{key:i,staticClass:"nav-bar-right-item"},[e("router-link",{attrs:{to:{name:n.name},replace:""}},[t._v(t._s(n.meta.title))])],1)})),0),t.isCardShow?e("CardItem",{attrs:{item:t.item},on:{mask:t.handleShow}}):t._e()],1)},s=[],a=n(8946),o=n(7097),r={name:"NavBar",data(){return{NavRoutes:a["default"].filter((t=>t.meta.title)),isMusicActive:!1,isCardShow:!1,timer:null,item:{title:"注意！",content:["您即将访问后台系统，后台系统不对外开放，仅供内部人员使用，如非内部人员，请勿访问！"]}}},components:{CardItem:o["default"]},methods:{handleMusic(){this.isMusicActive=!this.isMusicActive;const t=document.querySelector(".music");this.isMusicActive?t.play():t.pause()},handleShow(){clearTimeout(this.timer),this.timer=null,this.isCardShow=!1}},mounted(){const t=document.querySelector(".music");t.paused?this.isMusicActive=!1:this.isMusicActive=!0,document.body.addEventListener("mousedown",(()=>{t.paused&&t.play().then((()=>{t.muted=!1,this.isMusicActive=!0})).catch((()=>{this.isMusicActive=!1}))}),{once:!0}),document.body.addEventListener("touchstart",(()=>{t.paused&&t.play().then((()=>{t.muted=!1,this.isMusicActive=!0})).catch((()=>{this.isMusicActive=!1}))}),{once:!0})}},c=r,l=n(1001),u=(0,l.Z)(c,i,s,!1,null,"6a852d67",null),d=u.exports},866:function(t,e,n){n.r(e);var i=n(6369),s=n(6266),a=n(1120),o=n(107),r=n(9252),c=n(4239),l=n(8499),u=n.n(l),d=n(6943),h=n(3406);i["default"].use(o.ZP),i["default"].prototype.$echarts=r,i["default"].config.productionTip=!1,i["default"].use(u()),h["default"].Instance.connect(),i["default"].prototype.$socket=h["default"].Instance,i["default"].prototype.$http=d.Z.create({baseURL:"/data/"}),new i["default"]({render:t=>t(s["default"]),router:a["default"],store:c["default"],beforeCreate(){i["default"].prototype.$bus=this}}).$mount("#app")},8946:function(t,e,n){n.r(e),e["default"]=[{name:"IllnessAnalysis",path:"/illness-analysis",component:()=>n.e(786).then(n.bind(n,8786)),meta:{title:"心理诊断",isNavShow:!0,introduction:"心理诊断板块中提供了大量可信的心理诊断或链接测试供您或您的家人朋友进行测试及诊断。",imgURL:"assets/image/nav/illness-analysis.png",top:28,left:20}},{name:"NormalIllness",path:"/normal-illness",component:()=>Promise.all([n.e(249),n.e(131)]).then(n.bind(n,2131)),meta:{title:"常见疾病",isNavShow:!0,introduction:"常见疾病板块中有部分常见疾病的详略介绍，包括但不限于对疾病总类及各个子类疾病的基本定义、诊断方法、社会背景、形成理论、治疗方法、亲友做法等等的介绍。",imgURL:"assets/image/nav/normal-illness.png",top:40,left:47}},{name:"SearchIllness",path:"/search-illness",component:()=>Promise.all([n.e(249),n.e(838)]).then(n.bind(n,4838)),meta:{title:"搜索疾病",isNavShow:!0,introduction:"搜索疾病板块中具有搜索疾病的功能，您可以通过输入疾病名称对该疾病进行更为详尽的了解。",imgURL:"assets/image/nav/search-illness.png",top:55,left:7}},{name:"ScreenData",path:"/screen-data",component:()=>Promise.all([n.e(325),n.e(8)]).then(n.bind(n,3325)),meta:{title:"数据可视化",isNavShow:!0,introduction:"数据可视化板块中有有关心理数据的可视化功能，包括但不限于统计分析、数据可视化、数据可视化报表等等。",imgURL:"assets/image/nav/screen-data.png",top:70,left:65}},{name:"FunctionIntroduction",path:"/function-introduction",component:()=>Promise.all([n.e(249),n.e(325),n.e(80)]).then(n.bind(n,6387)),meta:{isNavShow:!0}},{name:"PsychologyKnowledge",path:"/psychology-knowledge",component:()=>Promise.all([n.e(249),n.e(503)]).then(n.bind(n,9503)),meta:{title:"心理小知识",isNavShow:!0,introduction:"心理小知识板块为您提供相关心理学的知识，包括但不限于心理学相关的文章，心理学相关的科普性知识等等。",imgURL:"assets/image/nav/psychology-knowledge.png",top:53,left:88}}]},1120:function(t,e,n){n.r(e);var i=n(6369),s=n(2631),a=n(3562);i["default"].use(s.ZP);let o=s.ZP.prototype.push;s.ZP.prototype.push=function(t,e,n){e&&n?o.call(this,t,e,n):o.call(this,t,(()=>{}),(()=>{}))};let r=s.ZP.prototype.replace;s.ZP.prototype.replace=function(t,e,n){e&&n?r.call(this,t,e,n):r.call(this,t,(()=>{}),(()=>{}))},e["default"]=new s.ZP({routes:a["default"],linkActiveClass:"active",scrollBehavior(t,e,n){return{y:0,x:0}}})},3562:function(t,e,n){n.r(e);var i=n(8946);e["default"]=[...i["default"],{name:"IllnessDetail",path:"/illness-detail/:illnessId?",component:()=>Promise.all([n.e(249),n.e(962)]).then(n.bind(n,8962)),meta:{title:"疾病详情"}},{name:"StartPage",path:"/",component:()=>n.e(385).then(n.bind(n,3385)),meta:{title:"首页",isNavShow:!0}},{path:"/*",component:()=>n.e(62).then(n.bind(n,6062))}]},1725:function(t,e,n){n.r(e);var i=n(6943);const s={analysisList:[]},a={setAnalysisList(t,e){t.analysisList=e}},o={async getAnalysisList({commit:t}){const{data:e}=await i.Z.get("/data/analysis.json");t("setAnalysisList",e)}},r={analysisList(t){return t.analysisList},analysisListRandom(t){const e=t.analysisList.reduce(((t,e)=>t.concat(e.links)),[]);return e.sort((()=>Math.random()-.5)).slice(0,5)}};e["default"]={state:s,mutations:a,actions:o,getters:r}},8098:function(t,e,n){n.r(e);var i=n(6943);const s={illnessList:[],categoryDetail:{}},a={setIllnessList(t,e){t.illnessList=e},setCategoryDetail(t,e){Object.keys(e).forEach((n=>{e[n].children=e[n].children.map((e=>t.illnessList.find((t=>e===t.name))))})),t.categoryDetail=e}},o={async getIllnessList({commit:t}){const{data:e}=await i.Z.get("/data/illness.json");t("setIllnessList",e)},async getCategoryDetail({commit:t}){const{data:e}=await i.Z.get("/data/category.json");t("setCategoryDetail",e)}},r={illnessList(t){return t.illnessList},categoryDetail(t){return t.categoryDetail}};e["default"]={state:s,mutations:a,actions:o,getters:r}},4239:function(t,e,n){n.r(e);var i=n(8098),s=n(3258),a=n(1725),o=n(9385),r=n(3822),c=n(6369);c["default"].use(r.ZP),e["default"]=new r.ZP.Store({modules:{illness:i["default"],psychology:s["default"],analysis:a["default"],theme:o["default"]}})},3258:function(t,e,n){n.r(e);var i=n(6943);const s={psychologyList:[]},a={setPsychologyList(t,e){t.psychologyList=e}},o={async getPsychologyList({commit:t}){const{data:e}=await i.Z.get("/data/psychology.json");t("setPsychologyList",e)}},r={psychologyList(t){return t.psychologyList}};e["default"]={state:s,mutations:a,actions:o,getters:r}},9385:function(t,e,n){n.r(e),e["default"]={state:{theme:"vintage"},mutations:{changeTheme(t){"chalk"===t.theme?t.theme="vintage":t.theme="chalk"}},actions:{},getters:{theme(t){return t.theme}}}},3406:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var i=n(7327);class s{constructor(){(0,i.Z)(this,"ws",null),(0,i.Z)(this,"callBackMapping",{}),(0,i.Z)(this,"connected",!1),(0,i.Z)(this,"sendRetryCount",0),(0,i.Z)(this,"connectRetryCount",0)}static get Instance(){return this.instance||(this.instance=new s),this.instance}connect(){if(!window.WebSocket)return console.log("您的浏览器不支持WebSocket");this.ws=new WebSocket("ws://47.120.2.219:16997"),this.ws.onopen=()=>{this.connected=!0,this.connectRetryCount=0},this.ws.onclose=()=>{this.connected=!1,this.connectRetryCount++,setTimeout((()=>{this.connect()}),500*this.connectRetryCount)},this.ws.onmessage=t=>{const e=JSON.parse(t.data),n=e.socketType;if(this.callBackMapping[n]){const t=e.action;if("getData"===t){const t=JSON.parse(e.data);this.callBackMapping[n].call(this,t)}else("fullScreen"===t||"themeChange"===t)&&this.callBackMapping[n].call(this,e)}}}registerCallBack(t,e){this.callBackMapping[t]=e}unRegisterCallBack(t){this.callBackMapping[t]=null}send(t){this.connected?(this.sendRetryCount=0,this.ws.send(JSON.stringify(t))):(this.sendRetryCount++,setTimeout((()=>{this.send(t)}),500*this.sendRetryCount))}}(0,i.Z)(s,"instance",null)},4419:function(t,e,n){t.exports=n.p+"static/img/play.df430934.png"},6949:function(t,e,n){t.exports=n.p+"static/img/logo.49a79ab2.png"},9342:function(t,e,n){t.exports=n.p+"static/media/toki.48b3d1f9.mp3"}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,i,s,a){if(!i){var o=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],a=t[u][2];for(var r=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(r=!1,a<o&&(o=a));if(r){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"static/js/"+t+"."+{8:"4168ff26",62:"889cb4a0",80:"23143c24",131:"6644f045",249:"fb840ea2",325:"10268032",385:"575b90e3",503:"21875ab4",786:"d76fa84d",838:"2e6f5186",962:"5a66c980"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"static/css/"+t+"."+{8:"c8939d13",62:"8d9464bc",80:"cbaa437f",131:"23e395c1",385:"4e6c926d",503:"cf198928",786:"b4208b5c",838:"264a9d60",962:"505077ab"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="psychology:";n.l=function(i,s,a,o){if(t[i])t[i].push(s);else{var r,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+a){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+a),r.src=i),t[i]=[s];var h=function(e,n){r.onerror=r.onload=null,clearTimeout(f);var s=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,i,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=function(n){if(a.onerror=a.onload=null,"load"===n.type)i();else{var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=r,a.parentNode.removeChild(a),s(c)}};return a.onerror=a.onload=o,a.href=e,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var s=n[i],a=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===t||a===e))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){s=o[i],a=s.getAttribute("data-href");if(a===t||a===e)return s}},i=function(i){return new Promise((function(s,a){var o=n.miniCssF(i),r=n.p+o;if(e(o,r))return s();t(i,r,null,s,a)}))},s={143:0};n.f.miniCss=function(t,e){var n={8:1,62:1,80:1,131:1,385:1,503:1,786:1,838:1,962:1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=i(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}}(),function(){var t={143:0};n.f.j=function(e,i){var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else if(8!=e){var a=new Promise((function(n,i){s=t[e]=[n,i]}));i.push(s[2]=a);var o=n.p+n.u(e),r=new Error,c=function(i){if(n.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,s[1](r)}};n.l(o,c,"chunk-"+e,e)}else t[e]=0},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,o=i[0],r=i[1],c=i[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var u=c(n)}for(e&&e(i);l<o.length;l++)a=o[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},i=self["webpackChunkpsychology"]=self["webpackChunkpsychology"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(866)}));i=n.O(i)})();
//# sourceMappingURL=app.678402af.js.map